---
title: "Sign Up with Xero"
description: "Learn how to enable the Sign Up with Xero flow with Codat to support your app's certification"
---

Sign Up with Xero (SUwX) is no.8 in Xero’s list of [Certification Checkpoints](https://developer.xero.com/documentation/xero-app-store/app-partner-guides/certification-checkpoints/#required-for-all-integrations). It is a requirement for all App Store Partners seeking certification. 

SUwX is optional for Financial Services Partners, depending on whether you choose to be listed in the App Store. 

SUwX is a user journey that takes potential customers from the Xero App Store directly to your app. It serves two purposes:

1. To reduce the steps users need to take to sign up to your app
2. To enable Xero to track referrals that originate in the Xero App Store

## SUwX Option A vs Option B

Xero’s docs outline [two approaches to Sign Up with Xero](https://developer.xero.com/documentation/xero-app-store/app-partner-guides/sign-up):

* Option A
  * This approach typically requires significantly more developer resource and is not possible for all apps (eg. Apps that do not have a completely self-serve onboarding process and need customers to speak to a sales representative before creating an account for them)
  * Option A uses a related concept called [Sign In with Xero](https://developer.xero.com/documentation/xero-app-store/app-partner-guides/sign-in) which enables users to use Xero as an identity provider when logging into your app, similar to Sign In With Google or Facebook. 
* Option B
  * This approach is more popular with Codat clients as it is simpler and enables apps to reduce the time and developer resource required to pass Xero Certification.

If you would like to implement SUwX Option A, please notify your Codat account team for assistance. If you would like to implement SUwX Option B, please follow the guidance below and consult your Codat account team if you have any queries.

## How to implement SUwX Option B using Codat

SUwX Option B is intended to bring potential customers from the Xero App Store to an inquiry form on your website. SUwX allows you to pre-populate the form with OpenID data from Xero (eg. name + email address).

If you do not have an existing signup/inquiry form, you should create one as you will require a URL to redirect customers to during the SUxW journey. In future steps we will defer to this url as your **Sign up success redirect URL**.

## User Flow

![Sign Up with Xero - Option B - User Flow](https://github.com/codatio/codat-docs/assets/139238209/cd32b714-fb87-444c-a702-17564376d5d9)

## How to build

### Retrieve the Sign Up with Xero URL

The **Sign Up with Xero URL** is the URL that is shared with the end user for them to authorize access to Xero. This URL is generated by Codat, but requires customisation to you and your Codat instance: 

1. Retrieve the `clientId` and `platformKey`.

   These two values will form part of the **Sign Up with Xero URL**. 

   Call our `GET https://api.codat.io/profile/syncSettings` endpoint and pick up the `clientId` returned in the response. For Xero, the `platformKey` value is `gbol`, as captured in our [accounting platform key list](/integrations/accounting/overview#platform-keys). 
   
2. Generate the URL.

   Use the values retrieved previously to generate a URL with the following structure: `https://link-api.codat.io/clients/{ClientID}/signUpWith/{PlatformKey}`  
   Note that this URL should also be used as a response to checkpoint _6. Purchase/sign up page URL_ in your App Store listing.

When this link is initiated by the customer, it triggers the creation of a company and a connection in Codat, and redirects them to Xero login for authorization. Once authorized, they will be redirected to your **Sign up success redirect URL**.

### Set the Sign up success redirect URL

Navigate to **Settings > Auth flow > Redirects** to access the [Redirects](https://app.codat.io/settings/redirects) page in the Codat Portal. Under **Sign up success redirect URL**, enter the base URL of the form you will display to the customer, without any parameter replacements. Your changes will be auto-saved.

<img width="690" alt="Sign Up success redirect URL" src="https://github.com/codatio/codat-docs/assets/139238209/ee749a61-ff8e-4d5f-9055-8f7f90d4b8ef">

### Pre-populate customer's account with Xero data 

Once the customer authorizes the Xero connection, use the Xero OpenID data to pre-populate onboarding forms or fields. Here is an example redirect with OpenID parameters:

```
{SignUpSuccessRedirectURL}?companyId=f3069a22-ce9a-499b-b341-a7d6564c65z1&connectionId=4302ebaf-aba6-4763-ba61-47a7992634a3&statusCode=200&openId_email=j.doe%2B1%40codat.io&openId_given_name=John&openId_family_name=Doe
```

You can also use the Codat API and `companyId` to pull additional information of interest, such as company info. 

### Manage the Codat company

When the **Sign Up with Xero URL** is triggered and a Codat company is created, it has a name that follows the `Xero-YYYY-MM-DD-THHMMSS` convention. This is because we do not have any identifying information for the user at that point.

If you have specific requirements for company naming, you can update the name via the API using our [Update company](/codat-api#/operations/update-company) endpoint. Use the `companyId` returned as part of the Xero OpenID data. 

### Manage user cancellation

You should build logic to handle the scenario of a user cancelling mid-flow, and serve a relevant error page. This is similar to what we recommend when using our [Link auth flow](https://docs.codat.io/auth-flow/overview). 

As part of the OpenID response parameters, you will receive the appropriate status code that you can manage accordingly. For a full list of our status codes, see [Status codes and errors](https://docs.codat.io/using-the-api/errors).

 
